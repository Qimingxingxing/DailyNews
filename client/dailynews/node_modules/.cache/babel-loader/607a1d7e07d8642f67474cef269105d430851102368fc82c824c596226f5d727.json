{"ast":null,"code":"var _jsxFileName = \"/Users/qimingzhang/DailyNews/client/dailynews/src/NewsCard/NewsCard.js\",\n  _s = $RefreshSig$();\nimport React from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { Card, CardContent, CardMedia, Typography, Box, styled } from '@mui/material';\nimport Auth from '../Auth/Auth';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst StyledCard = styled(Card)(({\n  theme\n}) => ({\n  marginBottom: theme.spacing(3),\n  cursor: 'pointer',\n  maxWidth: 400,\n  margin: '0 auto',\n  '&:hover': {\n    boxShadow: theme.shadows[4]\n  }\n}));\n_c = StyledCard;\nconst NewsCard = ({\n  news\n}) => {\n  _s();\n  const navigate = useNavigate();\n  const defaultImage = 'https://picsum.photos/id/237/400/400?grayscale';\n  const handleClick = () => {\n    if (!Auth.isUserAuthenticated()) {\n      navigate('/login');\n      return;\n    }\n    const request = {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json',\n        'Authorization': `Bearer ${Auth.getToken()}`\n      },\n      body: JSON.stringify({\n        digest: news.digest\n      })\n    };\n    fetch('http://0.0.0.0:3000/news/click', request).then(() => window.open(news.url, '_blank')).catch(error => console.error('Error logging click:', error));\n  };\n  return /*#__PURE__*/_jsxDEV(StyledCard, {\n    onClick: handleClick,\n    children: [/*#__PURE__*/_jsxDEV(CardMedia, {\n      component: \"img\",\n      sx: {\n        width: '100%',\n        height: 250,\n        objectFit: 'cover',\n        backgroundColor: '#f5f5f5',\n        transition: 'filter 0.3s ease',\n        '&:hover': {\n          filter: 'grayscale(0%)'\n        }\n      },\n      image: news.image_url || defaultImage,\n      alt: news.title,\n      onError: e => {\n        e.target.onerror = null;\n        e.target.src = defaultImage;\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(CardContent, {\n      sx: {\n        p: 2\n      },\n      children: [/*#__PURE__*/_jsxDEV(Typography, {\n        variant: \"h6\",\n        component: \"div\",\n        gutterBottom: true,\n        sx: {\n          fontWeight: 'bold',\n          fontSize: '1.1rem',\n          lineHeight: 1.3\n        },\n        children: news.title\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Typography, {\n        variant: \"body2\",\n        color: \"text.secondary\",\n        paragraph: true,\n        sx: {\n          fontSize: '0.9rem',\n          lineHeight: 1.4,\n          mb: 1\n        },\n        children: news.description\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Box, {\n        sx: {\n          display: 'flex',\n          justifyContent: 'space-between',\n          alignItems: 'center',\n          mt: 1,\n          pt: 1,\n          borderTop: '1px solid',\n          borderColor: 'divider'\n        },\n        children: [/*#__PURE__*/_jsxDEV(Typography, {\n          variant: \"caption\",\n          color: \"text.secondary\",\n          children: news.source.name\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 94,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Typography, {\n          variant: \"caption\",\n          color: \"text.secondary\",\n          children: news.time\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 97,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 50,\n    columnNumber: 5\n  }, this);\n};\n_s(NewsCard, \"CzcTeTziyjMsSrAVmHuCCb6+Bfg=\", false, function () {\n  return [useNavigate];\n});\n_c2 = NewsCard;\nexport default NewsCard;\nvar _c, _c2;\n$RefreshReg$(_c, \"StyledCard\");\n$RefreshReg$(_c2, \"NewsCard\");","map":{"version":3,"names":["React","useNavigate","Card","CardContent","CardMedia","Typography","Box","styled","Auth","jsxDEV","_jsxDEV","StyledCard","theme","marginBottom","spacing","cursor","maxWidth","margin","boxShadow","shadows","_c","NewsCard","news","_s","navigate","defaultImage","handleClick","isUserAuthenticated","request","method","headers","getToken","body","JSON","stringify","digest","fetch","then","window","open","url","catch","error","console","onClick","children","component","sx","width","height","objectFit","backgroundColor","transition","filter","image","image_url","alt","title","onError","e","target","onerror","src","fileName","_jsxFileName","lineNumber","columnNumber","p","variant","gutterBottom","fontWeight","fontSize","lineHeight","color","paragraph","mb","description","display","justifyContent","alignItems","mt","pt","borderTop","borderColor","source","name","time","_c2","$RefreshReg$"],"sources":["/Users/qimingzhang/DailyNews/client/dailynews/src/NewsCard/NewsCard.js"],"sourcesContent":["import React from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport {\n  Card,\n  CardContent,\n  CardMedia,\n  Typography,\n  Box,\n  styled\n} from '@mui/material';\nimport Auth from '../Auth/Auth';\n\nconst StyledCard = styled(Card)(({ theme }) => ({\n  marginBottom: theme.spacing(3),\n  cursor: 'pointer',\n  maxWidth: 400,\n  margin: '0 auto',\n  '&:hover': {\n    boxShadow: theme.shadows[4],\n  },\n}));\n\nconst NewsCard = ({ news }) => {\n  const navigate = useNavigate();\n  const defaultImage = 'https://picsum.photos/id/237/400/400?grayscale';\n\n  const handleClick = () => {\n    if (!Auth.isUserAuthenticated()) {\n      navigate('/login');\n      return;\n    }\n\n    const request = {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json',\n        'Authorization': `Bearer ${Auth.getToken()}`\n      },\n      body: JSON.stringify({\n        digest: news.digest\n      })\n    };\n\n    fetch('http://0.0.0.0:3000/news/click', request)\n      .then(() => window.open(news.url, '_blank'))\n      .catch(error => console.error('Error logging click:', error));\n  };\n\n  return (\n    <StyledCard onClick={handleClick}>\n      <CardMedia\n        component=\"img\"\n        sx={{ \n          width: '100%',\n          height: 250,\n          objectFit: 'cover',\n          backgroundColor: '#f5f5f5',\n          transition: 'filter 0.3s ease',\n          '&:hover': {\n            filter: 'grayscale(0%)'\n          }\n        }}\n        image={news.image_url || defaultImage}\n        alt={news.title}\n        onError={(e) => {\n          e.target.onerror = null;\n          e.target.src = defaultImage;\n        }}\n      />\n      <CardContent sx={{ p: 2 }}>\n        <Typography variant=\"h6\" component=\"div\" gutterBottom sx={{ \n          fontWeight: 'bold',\n          fontSize: '1.1rem',\n          lineHeight: 1.3\n        }}>\n          {news.title}\n        </Typography>\n        <Typography variant=\"body2\" color=\"text.secondary\" paragraph sx={{\n          fontSize: '0.9rem',\n          lineHeight: 1.4,\n          mb: 1\n        }}>\n          {news.description}\n        </Typography>\n        <Box sx={{ \n          display: 'flex', \n          justifyContent: 'space-between', \n          alignItems: 'center',\n          mt: 1,\n          pt: 1,\n          borderTop: '1px solid',\n          borderColor: 'divider'\n        }}>\n          <Typography variant=\"caption\" color=\"text.secondary\">\n            {news.source.name}\n          </Typography>\n          <Typography variant=\"caption\" color=\"text.secondary\">\n            {news.time}\n          </Typography>\n        </Box>\n      </CardContent>\n    </StyledCard>\n  );\n};\n\nexport default NewsCard;"],"mappings":";;AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,SAASC,WAAW,QAAQ,kBAAkB;AAC9C,SACEC,IAAI,EACJC,WAAW,EACXC,SAAS,EACTC,UAAU,EACVC,GAAG,EACHC,MAAM,QACD,eAAe;AACtB,OAAOC,IAAI,MAAM,cAAc;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAEhC,MAAMC,UAAU,GAAGJ,MAAM,CAACL,IAAI,CAAC,CAAC,CAAC;EAAEU;AAAM,CAAC,MAAM;EAC9CC,YAAY,EAAED,KAAK,CAACE,OAAO,CAAC,CAAC,CAAC;EAC9BC,MAAM,EAAE,SAAS;EACjBC,QAAQ,EAAE,GAAG;EACbC,MAAM,EAAE,QAAQ;EAChB,SAAS,EAAE;IACTC,SAAS,EAAEN,KAAK,CAACO,OAAO,CAAC,CAAC;EAC5B;AACF,CAAC,CAAC,CAAC;AAACC,EAAA,GARET,UAAU;AAUhB,MAAMU,QAAQ,GAAGA,CAAC;EAAEC;AAAK,CAAC,KAAK;EAAAC,EAAA;EAC7B,MAAMC,QAAQ,GAAGvB,WAAW,CAAC,CAAC;EAC9B,MAAMwB,YAAY,GAAG,gDAAgD;EAErE,MAAMC,WAAW,GAAGA,CAAA,KAAM;IACxB,IAAI,CAAClB,IAAI,CAACmB,mBAAmB,CAAC,CAAC,EAAE;MAC/BH,QAAQ,CAAC,QAAQ,CAAC;MAClB;IACF;IAEA,MAAMI,OAAO,GAAG;MACdC,MAAM,EAAE,MAAM;MACdC,OAAO,EAAE;QACP,cAAc,EAAE,kBAAkB;QAClC,eAAe,EAAE,UAAUtB,IAAI,CAACuB,QAAQ,CAAC,CAAC;MAC5C,CAAC;MACDC,IAAI,EAAEC,IAAI,CAACC,SAAS,CAAC;QACnBC,MAAM,EAAEb,IAAI,CAACa;MACf,CAAC;IACH,CAAC;IAEDC,KAAK,CAAC,gCAAgC,EAAER,OAAO,CAAC,CAC7CS,IAAI,CAAC,MAAMC,MAAM,CAACC,IAAI,CAACjB,IAAI,CAACkB,GAAG,EAAE,QAAQ,CAAC,CAAC,CAC3CC,KAAK,CAACC,KAAK,IAAIC,OAAO,CAACD,KAAK,CAAC,sBAAsB,EAAEA,KAAK,CAAC,CAAC;EACjE,CAAC;EAED,oBACEhC,OAAA,CAACC,UAAU;IAACiC,OAAO,EAAElB,WAAY;IAAAmB,QAAA,gBAC/BnC,OAAA,CAACN,SAAS;MACR0C,SAAS,EAAC,KAAK;MACfC,EAAE,EAAE;QACFC,KAAK,EAAE,MAAM;QACbC,MAAM,EAAE,GAAG;QACXC,SAAS,EAAE,OAAO;QAClBC,eAAe,EAAE,SAAS;QAC1BC,UAAU,EAAE,kBAAkB;QAC9B,SAAS,EAAE;UACTC,MAAM,EAAE;QACV;MACF,CAAE;MACFC,KAAK,EAAEhC,IAAI,CAACiC,SAAS,IAAI9B,YAAa;MACtC+B,GAAG,EAAElC,IAAI,CAACmC,KAAM;MAChBC,OAAO,EAAGC,CAAC,IAAK;QACdA,CAAC,CAACC,MAAM,CAACC,OAAO,GAAG,IAAI;QACvBF,CAAC,CAACC,MAAM,CAACE,GAAG,GAAGrC,YAAY;MAC7B;IAAE;MAAAsC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACH,CAAC,eACFxD,OAAA,CAACP,WAAW;MAAC4C,EAAE,EAAE;QAAEoB,CAAC,EAAE;MAAE,CAAE;MAAAtB,QAAA,gBACxBnC,OAAA,CAACL,UAAU;QAAC+D,OAAO,EAAC,IAAI;QAACtB,SAAS,EAAC,KAAK;QAACuB,YAAY;QAACtB,EAAE,EAAE;UACxDuB,UAAU,EAAE,MAAM;UAClBC,QAAQ,EAAE,QAAQ;UAClBC,UAAU,EAAE;QACd,CAAE;QAAA3B,QAAA,EACCvB,IAAI,CAACmC;MAAK;QAAAM,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACD,CAAC,eACbxD,OAAA,CAACL,UAAU;QAAC+D,OAAO,EAAC,OAAO;QAACK,KAAK,EAAC,gBAAgB;QAACC,SAAS;QAAC3B,EAAE,EAAE;UAC/DwB,QAAQ,EAAE,QAAQ;UAClBC,UAAU,EAAE,GAAG;UACfG,EAAE,EAAE;QACN,CAAE;QAAA9B,QAAA,EACCvB,IAAI,CAACsD;MAAW;QAAAb,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACP,CAAC,eACbxD,OAAA,CAACJ,GAAG;QAACyC,EAAE,EAAE;UACP8B,OAAO,EAAE,MAAM;UACfC,cAAc,EAAE,eAAe;UAC/BC,UAAU,EAAE,QAAQ;UACpBC,EAAE,EAAE,CAAC;UACLC,EAAE,EAAE,CAAC;UACLC,SAAS,EAAE,WAAW;UACtBC,WAAW,EAAE;QACf,CAAE;QAAAtC,QAAA,gBACAnC,OAAA,CAACL,UAAU;UAAC+D,OAAO,EAAC,SAAS;UAACK,KAAK,EAAC,gBAAgB;UAAA5B,QAAA,EACjDvB,IAAI,CAAC8D,MAAM,CAACC;QAAI;UAAAtB,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACP,CAAC,eACbxD,OAAA,CAACL,UAAU;UAAC+D,OAAO,EAAC,SAAS;UAACK,KAAK,EAAC,gBAAgB;UAAA5B,QAAA,EACjDvB,IAAI,CAACgE;QAAI;UAAAvB,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACA,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACV,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACK,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACJ,CAAC;AAEjB,CAAC;AAAC3C,EAAA,CAjFIF,QAAQ;EAAA,QACKpB,WAAW;AAAA;AAAAsF,GAAA,GADxBlE,QAAQ;AAmFd,eAAeA,QAAQ;AAAC,IAAAD,EAAA,EAAAmE,GAAA;AAAAC,YAAA,CAAApE,EAAA;AAAAoE,YAAA,CAAAD,GAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}
