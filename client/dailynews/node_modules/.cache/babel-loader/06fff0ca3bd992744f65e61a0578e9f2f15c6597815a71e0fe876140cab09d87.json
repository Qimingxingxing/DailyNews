{"ast":null,"code":"var _jsxFileName = \"/Users/qimingzhang/DailyNews/client/dailynews/src/NewsCard/NewsCard.js\",\n  _s = $RefreshSig$();\nimport React from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { Card, CardContent, CardMedia, Typography, Box, styled } from '@mui/material';\nimport Auth from '../Auth/Auth';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst StyledCard = styled(Card)(({\n  theme\n}) => ({\n  marginBottom: theme.spacing(2),\n  cursor: 'pointer',\n  '&:hover': {\n    boxShadow: theme.shadows[4]\n  }\n}));\n_c = StyledCard;\nconst NewsCard = ({\n  news\n}) => {\n  _s();\n  const navigate = useNavigate();\n  const handleClick = () => {\n    if (!Auth.isUserAuthenticated()) {\n      navigate('/login');\n      return;\n    }\n    const request = {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json',\n        'Authorization': `Bearer ${Auth.getToken()}`\n      },\n      body: JSON.stringify({\n        jsonrpc: '2.0',\n        method: 'log_news_click_for_user',\n        params: [Auth.getEmail(), news.digest],\n        id: 1\n      })\n    };\n    fetch('/news', request).then(() => window.open(news.url, '_blank')).catch(error => console.error('Error logging click:', error));\n  };\n  return /*#__PURE__*/_jsxDEV(StyledCard, {\n    onClick: handleClick,\n    children: /*#__PURE__*/_jsxDEV(Box, {\n      sx: {\n        display: 'flex',\n        flexDirection: {\n          xs: 'column',\n          md: 'row'\n        }\n      },\n      children: [news.image_url && /*#__PURE__*/_jsxDEV(CardMedia, {\n        component: \"img\",\n        sx: {\n          width: {\n            xs: '100%',\n            md: 240\n          },\n          height: {\n            xs: 200,\n            md: 240\n          }\n        },\n        image: news.image_url,\n        alt: news.title\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(CardContent, {\n        sx: {\n          flex: 1\n        },\n        children: [/*#__PURE__*/_jsxDEV(Typography, {\n          variant: \"h6\",\n          component: \"div\",\n          gutterBottom: true,\n          children: news.title\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Typography, {\n          variant: \"body2\",\n          color: \"text.secondary\",\n          paragraph: true,\n          children: news.description\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Box, {\n          sx: {\n            display: 'flex',\n            justifyContent: 'space-between',\n            alignItems: 'center'\n          },\n          children: [/*#__PURE__*/_jsxDEV(Typography, {\n            variant: \"caption\",\n            color: \"text.secondary\",\n            children: news.source\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 68,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Typography, {\n            variant: \"caption\",\n            color: \"text.secondary\",\n            children: news.time\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 71,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 50,\n    columnNumber: 5\n  }, this);\n};\n_s(NewsCard, \"CzcTeTziyjMsSrAVmHuCCb6+Bfg=\", false, function () {\n  return [useNavigate];\n});\n_c2 = NewsCard;\nexport default NewsCard;\nvar _c, _c2;\n$RefreshReg$(_c, \"StyledCard\");\n$RefreshReg$(_c2, \"NewsCard\");","map":{"version":3,"names":["React","useNavigate","Card","CardContent","CardMedia","Typography","Box","styled","Auth","jsxDEV","_jsxDEV","StyledCard","theme","marginBottom","spacing","cursor","boxShadow","shadows","_c","NewsCard","news","_s","navigate","handleClick","isUserAuthenticated","request","method","headers","getToken","body","JSON","stringify","jsonrpc","params","getEmail","digest","id","fetch","then","window","open","url","catch","error","console","onClick","children","sx","display","flexDirection","xs","md","image_url","component","width","height","image","alt","title","fileName","_jsxFileName","lineNumber","columnNumber","flex","variant","gutterBottom","color","paragraph","description","justifyContent","alignItems","source","time","_c2","$RefreshReg$"],"sources":["/Users/qimingzhang/DailyNews/client/dailynews/src/NewsCard/NewsCard.js"],"sourcesContent":["import React from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport {\n  Card,\n  CardContent,\n  CardMedia,\n  Typography,\n  Box,\n  styled\n} from '@mui/material';\nimport Auth from '../Auth/Auth';\n\nconst StyledCard = styled(Card)(({ theme }) => ({\n  marginBottom: theme.spacing(2),\n  cursor: 'pointer',\n  '&:hover': {\n    boxShadow: theme.shadows[4],\n  },\n}));\n\nconst NewsCard = ({ news }) => {\n  const navigate = useNavigate();\n\n  const handleClick = () => {\n    if (!Auth.isUserAuthenticated()) {\n      navigate('/login');\n      return;\n    }\n\n    const request = {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json',\n        'Authorization': `Bearer ${Auth.getToken()}`\n      },\n      body: JSON.stringify({\n        jsonrpc: '2.0',\n        method: 'log_news_click_for_user',\n        params: [Auth.getEmail(), news.digest],\n        id: 1\n      })\n    };\n\n    fetch('/news', request)\n      .then(() => window.open(news.url, '_blank'))\n      .catch(error => console.error('Error logging click:', error));\n  };\n\n  return (\n    <StyledCard onClick={handleClick}>\n      <Box sx={{ display: 'flex', flexDirection: { xs: 'column', md: 'row' } }}>\n        {news.image_url && (\n          <CardMedia\n            component=\"img\"\n            sx={{ width: { xs: '100%', md: 240 }, height: { xs: 200, md: 240 } }}\n            image={news.image_url}\n            alt={news.title}\n          />\n        )}\n        <CardContent sx={{ flex: 1 }}>\n          <Typography variant=\"h6\" component=\"div\" gutterBottom>\n            {news.title}\n          </Typography>\n          <Typography variant=\"body2\" color=\"text.secondary\" paragraph>\n            {news.description}\n          </Typography>\n          <Box sx={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center' }}>\n            <Typography variant=\"caption\" color=\"text.secondary\">\n              {news.source}\n            </Typography>\n            <Typography variant=\"caption\" color=\"text.secondary\">\n              {news.time}\n            </Typography>\n          </Box>\n        </CardContent>\n      </Box>\n    </StyledCard>\n  );\n};\n\nexport default NewsCard;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}
