{"ast":null,"code":"var _jsxFileName = \"/Users/qimingzhang/DailyNews/client/dailynews/src/NewsCard/NewsCard.js\",\n  _s = $RefreshSig$();\nimport React from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { Card, CardContent, CardMedia, Typography, Box, styled } from '@mui/material';\nimport Auth from '../Auth/Auth';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst StyledCard = styled(Card)(({\n  theme\n}) => ({\n  marginBottom: theme.spacing(2),\n  cursor: 'pointer',\n  '&:hover': {\n    boxShadow: theme.shadows[4]\n  }\n}));\n_c = StyledCard;\nconst NewsCard = ({\n  news\n}) => {\n  _s();\n  const navigate = useNavigate();\n  const defaultImage = 'https://picsum.photos/id/237/800/400?grayscale';\n  const handleClick = () => {\n    if (!Auth.isUserAuthenticated()) {\n      navigate('/login');\n      return;\n    }\n    const request = {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json',\n        'Authorization': `Bearer ${Auth.getToken()}`\n      },\n      body: JSON.stringify({\n        digest: news.digest\n      })\n    };\n    fetch('http://0.0.0.0:3000/news/click', request).then(() => window.open(news.url, '_blank')).catch(error => console.error('Error logging click:', error));\n  };\n  return /*#__PURE__*/_jsxDEV(StyledCard, {\n    onClick: handleClick,\n    children: [/*#__PURE__*/_jsxDEV(CardMedia, {\n      component: \"img\",\n      sx: {\n        width: '100%',\n        height: 300,\n        objectFit: 'cover',\n        backgroundColor: '#f5f5f5',\n        transition: 'filter 0.3s ease',\n        '&:hover': {\n          filter: 'grayscale(0%)'\n        }\n      },\n      image: news.image_url || defaultImage,\n      alt: news.title,\n      onError: e => {\n        e.target.onerror = null;\n        e.target.src = defaultImage;\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(CardContent, {\n      children: [/*#__PURE__*/_jsxDEV(Typography, {\n        variant: \"h5\",\n        component: \"div\",\n        gutterBottom: true,\n        sx: {\n          fontWeight: 'bold'\n        },\n        children: news.title\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Typography, {\n        variant: \"body1\",\n        color: \"text.secondary\",\n        paragraph: true,\n        children: news.description\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Box, {\n        sx: {\n          display: 'flex',\n          justifyContent: 'space-between',\n          alignItems: 'center',\n          mt: 2,\n          pt: 2,\n          borderTop: '1px solid',\n          borderColor: 'divider'\n        },\n        children: [/*#__PURE__*/_jsxDEV(Typography, {\n          variant: \"caption\",\n          color: \"text.secondary\",\n          children: news.source.name\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Typography, {\n          variant: \"caption\",\n          color: \"text.secondary\",\n          children: news.time\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 87,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 48,\n    columnNumber: 5\n  }, this);\n};\n_s(NewsCard, \"CzcTeTziyjMsSrAVmHuCCb6+Bfg=\", false, function () {\n  return [useNavigate];\n});\n_c2 = NewsCard;\nexport default NewsCard;\nvar _c, _c2;\n$RefreshReg$(_c, \"StyledCard\");\n$RefreshReg$(_c2, \"NewsCard\");","map":{"version":3,"names":["React","useNavigate","Card","CardContent","CardMedia","Typography","Box","styled","Auth","jsxDEV","_jsxDEV","StyledCard","theme","marginBottom","spacing","cursor","boxShadow","shadows","_c","NewsCard","news","_s","navigate","defaultImage","handleClick","isUserAuthenticated","request","method","headers","getToken","body","JSON","stringify","digest","fetch","then","window","open","url","catch","error","console","onClick","children","component","sx","width","height","objectFit","backgroundColor","transition","filter","image","image_url","alt","title","onError","e","target","onerror","src","fileName","_jsxFileName","lineNumber","columnNumber","variant","gutterBottom","fontWeight","color","paragraph","description","display","justifyContent","alignItems","mt","pt","borderTop","borderColor","source","name","time","_c2","$RefreshReg$"],"sources":["/Users/qimingzhang/DailyNews/client/dailynews/src/NewsCard/NewsCard.js"],"sourcesContent":["import React from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport {\n  Card,\n  CardContent,\n  CardMedia,\n  Typography,\n  Box,\n  styled\n} from '@mui/material';\nimport Auth from '../Auth/Auth';\n\nconst StyledCard = styled(Card)(({ theme }) => ({\n  marginBottom: theme.spacing(2),\n  cursor: 'pointer',\n  '&:hover': {\n    boxShadow: theme.shadows[4],\n  },\n}));\n\nconst NewsCard = ({ news }) => {\n  const navigate = useNavigate();\n  const defaultImage = 'https://picsum.photos/id/237/800/400?grayscale';\n\n  const handleClick = () => {\n    if (!Auth.isUserAuthenticated()) {\n      navigate('/login');\n      return;\n    }\n\n    const request = {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json',\n        'Authorization': `Bearer ${Auth.getToken()}`\n      },\n      body: JSON.stringify({\n        digest: news.digest\n      })\n    };\n\n    fetch('http://0.0.0.0:3000/news/click', request)\n      .then(() => window.open(news.url, '_blank'))\n      .catch(error => console.error('Error logging click:', error));\n  };\n\n  return (\n    <StyledCard onClick={handleClick}>\n      <CardMedia\n        component=\"img\"\n        sx={{ \n          width: '100%',\n          height: 300,\n          objectFit: 'cover',\n          backgroundColor: '#f5f5f5',\n          transition: 'filter 0.3s ease',\n          '&:hover': {\n            filter: 'grayscale(0%)'\n          }\n        }}\n        image={news.image_url || defaultImage}\n        alt={news.title}\n        onError={(e) => {\n          e.target.onerror = null;\n          e.target.src = defaultImage;\n        }}\n      />\n      <CardContent>\n        <Typography variant=\"h5\" component=\"div\" gutterBottom sx={{ fontWeight: 'bold' }}>\n          {news.title}\n        </Typography>\n        <Typography variant=\"body1\" color=\"text.secondary\" paragraph>\n          {news.description}\n        </Typography>\n        <Box sx={{ \n          display: 'flex', \n          justifyContent: 'space-between', \n          alignItems: 'center',\n          mt: 2,\n          pt: 2,\n          borderTop: '1px solid',\n          borderColor: 'divider'\n        }}>\n          <Typography variant=\"caption\" color=\"text.secondary\">\n            {news.source.name}\n          </Typography>\n          <Typography variant=\"caption\" color=\"text.secondary\">\n            {news.time}\n          </Typography>\n        </Box>\n      </CardContent>\n    </StyledCard>\n  );\n};\n\nexport default NewsCard;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}
