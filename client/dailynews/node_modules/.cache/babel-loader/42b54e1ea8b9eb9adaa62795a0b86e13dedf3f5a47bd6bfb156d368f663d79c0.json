{"ast":null,"code":"var _jsxFileName = \"/Users/qimingzhang/DailyNews/client/dailynews/src/NewsCard/NewsCard.js\",\n  _s = $RefreshSig$();\nimport React from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { Card, CardContent, CardMedia, Typography, Box, styled } from '@mui/material';\nimport Auth from '../Auth/Auth';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst StyledCard = styled(Card)(({\n  theme\n}) => ({\n  marginBottom: theme.spacing(2),\n  cursor: 'pointer',\n  '&:hover': {\n    boxShadow: theme.shadows[4]\n  }\n}));\n_c = StyledCard;\nconst NewsCard = ({\n  news\n}) => {\n  _s();\n  const navigate = useNavigate();\n  const defaultImage = 'https://images.app.goo.gl/jyCrqMx6bG4ErxVD9';\n  const handleClick = () => {\n    if (!Auth.isUserAuthenticated()) {\n      navigate('/login');\n      return;\n    }\n    const request = {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json',\n        'Authorization': `Bearer ${Auth.getToken()}`\n      },\n      body: JSON.stringify({\n        digest: news.digest\n      })\n    };\n    fetch('http://0.0.0.0:3000/news/click', request).then(() => window.open(news.url, '_blank')).catch(error => console.error('Error logging click:', error));\n  };\n  return /*#__PURE__*/_jsxDEV(StyledCard, {\n    onClick: handleClick,\n    children: /*#__PURE__*/_jsxDEV(Box, {\n      sx: {\n        display: 'flex',\n        flexDirection: {\n          xs: 'column',\n          md: 'row'\n        }\n      },\n      children: [/*#__PURE__*/_jsxDEV(CardMedia, {\n        component: \"img\",\n        image: defaultImage,\n        alt: news.title,\n        onError: e => {\n          e.target.onerror = null; // Prevent infinite loop\n          e.target.src = defaultImage;\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(CardContent, {\n        sx: {\n          flex: 1\n        },\n        children: [/*#__PURE__*/_jsxDEV(Typography, {\n          variant: \"h6\",\n          component: \"div\",\n          gutterBottom: true,\n          children: news.title\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Typography, {\n          variant: \"body2\",\n          color: \"text.secondary\",\n          paragraph: true,\n          children: news.description\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Box, {\n          sx: {\n            display: 'flex',\n            justifyContent: 'space-between',\n            alignItems: 'center'\n          },\n          children: [/*#__PURE__*/_jsxDEV(Typography, {\n            variant: \"caption\",\n            color: \"text.secondary\",\n            children: news.source.name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 67,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Typography, {\n            variant: \"caption\",\n            color: \"text.secondary\",\n            children: news.time\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 70,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 48,\n    columnNumber: 5\n  }, this);\n};\n_s(NewsCard, \"CzcTeTziyjMsSrAVmHuCCb6+Bfg=\", false, function () {\n  return [useNavigate];\n});\n_c2 = NewsCard;\nexport default NewsCard;\nvar _c, _c2;\n$RefreshReg$(_c, \"StyledCard\");\n$RefreshReg$(_c2, \"NewsCard\");","map":{"version":3,"names":["React","useNavigate","Card","CardContent","CardMedia","Typography","Box","styled","Auth","jsxDEV","_jsxDEV","StyledCard","theme","marginBottom","spacing","cursor","boxShadow","shadows","_c","NewsCard","news","_s","navigate","defaultImage","handleClick","isUserAuthenticated","request","method","headers","getToken","body","JSON","stringify","digest","fetch","then","window","open","url","catch","error","console","onClick","children","sx","display","flexDirection","xs","md","component","image","alt","title","onError","e","target","onerror","src","fileName","_jsxFileName","lineNumber","columnNumber","flex","variant","gutterBottom","color","paragraph","description","justifyContent","alignItems","source","name","time","_c2","$RefreshReg$"],"sources":["/Users/qimingzhang/DailyNews/client/dailynews/src/NewsCard/NewsCard.js"],"sourcesContent":["import React from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport {\n  Card,\n  CardContent,\n  CardMedia,\n  Typography,\n  Box,\n  styled\n} from '@mui/material';\nimport Auth from '../Auth/Auth';\n\nconst StyledCard = styled(Card)(({ theme }) => ({\n  marginBottom: theme.spacing(2),\n  cursor: 'pointer',\n  '&:hover': {\n    boxShadow: theme.shadows[4],\n  },\n}));\n\nconst NewsCard = ({ news }) => {\n  const navigate = useNavigate();\n  const defaultImage = 'https://images.app.goo.gl/jyCrqMx6bG4ErxVD9';\n\n  const handleClick = () => {\n    if (!Auth.isUserAuthenticated()) {\n      navigate('/login');\n      return;\n    }\n\n    const request = {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json',\n        'Authorization': `Bearer ${Auth.getToken()}`\n      },\n      body: JSON.stringify({\n        digest: news.digest\n      })\n    };\n\n    fetch('http://0.0.0.0:3000/news/click', request)\n      .then(() => window.open(news.url, '_blank'))\n      .catch(error => console.error('Error logging click:', error));\n  };\n\n  return (\n    <StyledCard onClick={handleClick}>\n      <Box sx={{ display: 'flex', flexDirection: { xs: 'column', md: 'row' } }}>\n        <CardMedia\n          component=\"img\"\n          image={defaultImage}\n          alt={news.title}\n          onError={(e) => {\n            e.target.onerror = null; // Prevent infinite loop\n            e.target.src = defaultImage;\n          }}\n        />\n        <CardContent sx={{ flex: 1 }}>\n          <Typography variant=\"h6\" component=\"div\" gutterBottom>\n            {news.title}\n          </Typography>\n          <Typography variant=\"body2\" color=\"text.secondary\" paragraph>\n            {news.description}\n          </Typography>\n          <Box sx={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center' }}>\n            <Typography variant=\"caption\" color=\"text.secondary\">\n              {news.source.name}\n            </Typography>\n            <Typography variant=\"caption\" color=\"text.secondary\">\n              {news.time}\n            </Typography>\n          </Box>\n        </CardContent>\n      </Box>\n    </StyledCard>\n  );\n};\n\nexport default NewsCard;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}
